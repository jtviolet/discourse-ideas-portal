/* Common styles for Ideas Portal active state */
.ideas-portal-category {

  /* Styles for the main controls container injected by JS */
  .ideas-portal-controls {
    margin: 16px 0; // Add margin to the outer container
    // Add any other overall container styling if needed
  }

  /* Status visualization styling - Restore original intended look */
  .ideas-status-visualization {
    width: 100%;
    margin: 0 0 10px; // Keep margin-bottom
    padding: 15px; // Restore padding
    background: var(--secondary); // Restore background
    /* display/opacity/visibility: Ensure this element is consistently visible when the class is applied. Avoid !important if possible by checking conflicting rules. */
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
  }

  /* Header inside visualization (if used by chart itself) */
  .ideas-visualization-header {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--primary);
    text-align: center;
  }

  /* Empty state message styling (used inside visualization container) */
  .no-ideas-message { // Target class used in JS
    padding: 30px 20px;
    text-align: center;
    font-size: 1.1rem;
    color: var(--primary-medium);
    background: var(--primary-very-low); // Match original empty message background
    border-radius: 6px;
    margin: 0; // No extra margin needed if it fills the container
  }

  /* Tag filter container styling (inside .ideas-portal-controls) */
  .ideas-tag-filters {
    // Removed margin: 16px 0; as it's on the parent now
    padding: 16px;
    border: 1px solid var(--primary-low);
    background: var(--secondary); // Restore background
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
    margin-top: 10px; // Add space between visualization and filters

    // Removed .ideas-filter-title styles as the title element is removed

    .filter-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px 12px;
      // Removed margin-top as title is gone
    }

    /* Individual filter tag styling */
    .tag-filter {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 16px;
      font-size: 0.75rem;
      font-weight: bold;
      text-transform: uppercase;
      color: white;
      text-decoration: none;
      transition: transform 0.15s ease, box-shadow 0.15s ease, opacity 0.15s ease;

      &:hover {
        opacity: 0.9;
        transform: scale(1.05);
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      }
    }

    .tag-filter-reset {
      background-color: #adb5bd;
    }
  }

  /* Hide category breadcrumb elements (use sparingly) */
  &:not(.tag-ideas) .category-breadcrumb li:first-child,
  &:not(.tag-ideas) .category-breadcrumb li:last-child {
     // display: none; // Uncomment if needed, but verify necessity
  }
}

/* Status Tag Styling in Topic Lists */
.topic-list {
  // Common styles for all status tags
  [data-tag-name="new"], [data-tag-name="planned"], [data-tag-name="in-progress"],
  [data-tag-name="already-exists"], [data-tag-name="under-review"],
  [data-tag-name="completed"], [data-tag-name="not-planned"] {
    display: inline-block !important;
    padding: 2px 8px !important;
    border-radius: 16px !important;
    font-size: 0.75rem !important;
    font-weight: bold !important;
    text-transform: uppercase !important;
    color: white !important;
    margin-right: 4px !important; // Keep right margin for spacing
    text-align: center !important;
    vertical-align: middle !important;
  }

  // Specific background colors
  [data-tag-name="new"] { background-color: #007bff !important; }
  [data-tag-name="planned"] { background-color: #17a2b8 !important; }
  [data-tag-name="in-progress"] { background-color: #fd7e14 !important; }
  [data-tag-name="already-exists"] { background-color: #6c757d !important; }
  [data-tag-name="under-review"] { background-color: #20c997 !important; }
  [data-tag-name="completed"] { background-color: #28a745 !important; }
  [data-tag-name="not-planned"] { background-color: #dc3545 !important; }
}


/* Category badge styling */
/* WARNING: :nth-child selectors are fragile. */
.ideas-hide-category-badges {
  .category-input .category-status .badge-category__wrapper:nth-child(1),
  .category-input .category-status .badge-category__wrapper:nth-child(2),
  .category-input .category-status .badge-category__wrapper:nth-child(4) {
    display: none !important;
  }

  /* Revert to inline-block for the third child, assuming it was centered that way */
  .category-status .badge-category__wrapper:nth-child(3) {
    display: inline-block !important; // Changed back from inline-flex
    vertical-align: middle; // Add vertical align if needed for centering with text/other inline blocks
  }
}

/* Style tag filters based on data-tag-name for color consistency */
.ideas-portal-category .ideas-tag-filters {
  .tag-filter[data-tag-name="new"] { background-color: #007bff; }
  .tag-filter[data-tag-name="planned"] { background-color: #17a2b8; }
  .tag-filter[data-tag-name="in-progress"] { background-color: #fd7e14; }
  .tag-filter[data-tag-name="already-exists"] { background-color: #6c757d; }
  .tag-filter[data-tag-name="under-review"] { background-color: #20c997; }
  .tag-filter[data-tag-name="completed"] { background-color: #28a745; }
  .tag-filter[data-tag-name="not-planned"] { background-color: #dc3545; }
}