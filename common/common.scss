/* Common styles for Ideas Portal active state */
.ideas-portal-category {

  /* Main controls container - Should look like one unified box */
  .ideas-portal-controls {
    // Box Model
    margin: 16px 0;
    padding: 15px; // Unified padding
    background: var(--secondary); // Apply background here
    border-radius: 8px; // Apply border-radius here
    border: 1px solid var(--primary-low); // Apply border here (optional, adjust as needed)
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08); // Apply shadow here
    // Layout
    display: flex; // Use flexbox to manage children
    flex-direction: column; // Stack chart and filters vertically
    gap: 15px; // Space between chart area and filters area
  }

  /* Status visualization container (inside controls) */
  .ideas-status-visualization {
    // Remove individual box styles - inherited from parent
    // background: none;
    // border: none;
    // padding: 0;
    // margin: 0; // Reset margin if needed, gap handles spacing
    width: 100%; // Ensure it takes full width
    // display/opacity/visibility might still be needed if dynamically shown/hidden
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
  }

  /* Chart Header (if used by chart) */
  .ideas-visualization-header {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--primary);
    text-align: center;
    margin-bottom: 10px;
  }

  /* Empty state message (inside visualization) */
  .no-ideas-message { // Target class used in JS
    padding: 30px 20px;
    text-align: center;
    font-size: 1.1rem;
    color: var(--primary-medium);
    // Keep background distinct if desired, or remove if it should inherit parent
    background: var(--primary-very-low);
    border-radius: 6px; // Optional inner radius
    margin: 0; // No extra margin needed if it fills the container
  }

  /* Tag filter container (inside controls) */
  .ideas-tag-filters {
    // Remove individual box styles - inherited from parent
    // background: none;
    // border: none;
    // padding: 0;
    // margin: 0; // Reset margin if needed, gap handles spacing
    width: 100%; // Ensure it takes full width

    /* Wrapper for the filter buttons themselves */
    .filter-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center; // Center the buttons horizontally
      gap: 10px 12px; // Spacing between buttons
      width: 100%; // Ensure it spans width for centering to work
    }

    /* Individual filter tag styling */
    .tag-filter {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 16px;
      font-size: 0.75rem;
      font-weight: bold;
      text-transform: uppercase;
      color: white;
      text-decoration: none;
      transition: transform 0.15s ease, box-shadow 0.15s ease, opacity 0.15s ease;
      &:hover {
        opacity: 0.9;
        transform: scale(1.05);
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      }
    }
    .tag-filter-reset { background-color: #adb5bd; }
  }

  /* Hide category breadcrumb elements (use sparingly) */
  &:not(.tag-ideas) .category-breadcrumb li:first-child,
  &:not(.tag-ideas) .category-breadcrumb li:last-child {
     /* display: none; */ // Uncomment if needed, but verify necessity
  }
}

/* Status Tag Styling in Topic Lists */
.topic-list {
  // Common styles for all status tags
  [data-tag-name="new"], [data-tag-name="planned"], [data-tag-name="in-progress"],
  [data-tag-name="already-exists"], [data-tag-name="under-review"],
  [data-tag-name="completed"], [data-tag-name="not-planned"] {
    display: inline-block !important;
    padding: 2px 8px !important;
    border-radius: 16px !important;
    font-size: 0.75rem !important;
    font-weight: bold !important;
    text-transform: uppercase !important;
    color: white !important;
    margin-right: 4px !important; // Keep right margin for spacing
    text-align: center !important;
    vertical-align: middle !important;
  }

  // Specific background colors
  [data-tag-name="new"] { background-color: #007bff !important; }
  [data-tag-name="planned"] { background-color: #17a2b8 !important; }
  [data-tag-name="in-progress"] { background-color: #fd7e14 !important; }
  [data-tag-name="already-exists"] { background-color: #6c757d !important; }
  [data-tag-name="under-review"] { background-color: #20c997 !important; }
  [data-tag-name="completed"] { background-color: #28a745 !important; }
  [data-tag-name="not-planned"] { background-color: #dc3545 !important; }
}


/* Category badge styling */
/* WARNING: :nth-child selectors are fragile. */
.ideas-hide-category-badges {
  .category-input .category-status .badge-category__wrapper:nth-child(1),
  .category-input .category-status .badge-category__wrapper:nth-child(2),
  .category-input .category-status .badge-category__wrapper:nth-child(4) {
    display: none !important;
  }

  /* Ensure the desired one (presumably the 3rd) is displayed */
  .category-status .badge-category__wrapper:nth-child(3) {
    display: inline-block !important; // Use inline-block or inline-flex based on content
    vertical-align: middle;
  }
}

/* Style tag filters based on data-tag-name for color consistency */
.ideas-portal-category .ideas-tag-filters {
  .tag-filter[data-tag-name="new"] { background-color: #007bff; }
  .tag-filter[data-tag-name="planned"] { background-color: #17a2b8; }
  .tag-filter[data-tag-name="in-progress"] { background-color: #fd7e14; }
  .tag-filter[data-tag-name="already-exists"] { background-color: #6c757d; }
  .tag-filter[data-tag-name="under-review"] { background-color: #20c997; }
  .tag-filter[data-tag-name="completed"] { background-color: #28a745; }
  .tag-filter[data-tag-name="not-planned"] { background-color: #dc3545; }
}