/* Common styles for Ideas Portal active state */
.ideas-portal-category {
  /* Status visualization styling */
  .ideas-status-visualization {
    width: 100%;
    margin: 0 0 10px;
    padding: 15px;
    background: var(--secondary);
    /* display/opacity/visibility: Ensure this element is consistently visible when the class is applied. Avoid !important if possible by checking conflicting rules. */
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
  }

  .ideas-visualization-header {
    font-size: 0.95rem; // Consider using relative units like em if suitable
    font-weight: 600;
    color: var(--primary);
    text-align: center;
  }

  /* Empty state message styling */
  .ideas-empty-message {
    padding: 30px 20px;
    text-align: center;
    font-size: 1.1rem; // Consider using relative units like em if suitable
    color: var(--primary-medium);
    background: var(--primary-very-low);
    border-radius: 6px;
    margin: 15px 0;
  }

  /* Tag filter container styling */
  .ideas-tag-filters {
    margin: 16px 0;
    padding: 16px;
    border: 1px solid var(--primary-low);
    background: var(--secondary);
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);

    .ideas-filter-title {
      font-size: 1.25rem; // Consider using relative units like em if suitable
      font-weight: 700;
      margin: 0 0 12px 0; // Adjusted margin for spacing
      color: var(--primary);
      width: 100%;
      text-align: center; // Center the title
    }

    .filter-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px 12px;
      margin-top: 12px; // Add space below title/chart
    }

    /* Individual filter tag styling */
    .tag-filter {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 16px;
      font-size: 0.75rem; // Consistent font size for tags
      font-weight: bold;
      text-transform: uppercase;
      color: white;
      text-decoration: none;
      transition: transform 0.15s ease, box-shadow 0.15s ease, opacity 0.15s ease; // Combine transitions

      &:hover {
        opacity: 0.9;
        transform: scale(1.05);
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      }
    }

    .tag-filter-reset {
      background-color: #adb5bd; // Reset button color
    }
  }

  /* Hide category breadcrumb elements (use sparingly, structure might change) */
  &:not(.tag-ideas) .category-breadcrumb li:first-child,
  &:not(.tag-ideas) .category-breadcrumb li:last-child {
    // display: none; // Consider if this is truly necessary or if CSS can hide via parent class instead
  }
}

/* Status Tag Styling in Topic Lists */
.topic-list {
  // Define common styles for all status tags
  [data-tag-name="new"],
  [data-tag-name="planned"],
  [data-tag-name="in-progress"],
  [data-tag-name="already-exists"],
  [data-tag-name="under-review"],
  [data-tag-name="completed"],
  [data-tag-name="not-planned"] {
    display: inline-block !important; // !important might be needed to override core inline styles
    padding: 2px 8px !important;
    border-radius: 16px !important;
    font-size: 0.75rem !important; // Use consistent small size
    font-weight: bold !important;
    text-transform: uppercase !important;
    color: white !important;
    margin-right: 4px !important;
    text-align: center !important;
    vertical-align: middle !important; // Helps alignment if heights vary slightly
  }

  // Define background colors per status tag
  [data-tag-name="new"] { background-color: #007bff !important; }
  [data-tag-name="planned"] { background-color: #17a2b8 !important; }
  [data-tag-name="in-progress"] { background-color: #fd7e14 !important; }
  [data-tag-name="already-exists"] { background-color: #6c757d !important; }
  [data-tag-name="under-review"] { background-color: #20c997 !important; }
  [data-tag-name="completed"] { background-color: #28a745 !important; }
  [data-tag-name="not-planned"] { background-color: #dc3545 !important; }
}


/* Category badge styling - Hide specific badges when body class is present */
/* WARNING: :nth-child selectors are fragile and may break if Discourse structure changes. */
.ideas-hide-category-badges {
  .category-input .category-status .badge-category__wrapper:nth-child(1),
  .category-input .category-status .badge-category__wrapper:nth-child(2),
  .category-input .category-status .badge-category__wrapper:nth-child(4) {
    display: none !important;
  }

  /* Ensure the desired one (presumably the 3rd) is displayed */
  .category-status .badge-category__wrapper:nth-child(3) {
    display: inline-flex !important; // Use inline-flex if it contains flex items
  }
}

/* Style tag filters based on data-tag-name for color consistency */
.ideas-portal-category .ideas-tag-filters {
  .tag-filter[data-tag-name="new"] { background-color: #007bff; }
  .tag-filter[data-tag-name="planned"] { background-color: #17a2b8; }
  .tag-filter[data-tag-name="in-progress"] { background-color: #fd7e14; }
  .tag-filter[data-tag-name="already-exists"] { background-color: #6c757d; }
  .tag-filter[data-tag-name="under-review"] { background-color: #20c997; }
  .tag-filter[data-tag-name="completed"] { background-color: #28a745; }
  .tag-filter[data-tag-name="not-planned"] { background-color: #dc3545; }
  // .tag-filter-reset already styled above
}